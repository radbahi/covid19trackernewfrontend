(this.webpackJsonpcovid19trackerfrontend=this.webpackJsonpcovid19trackerfrontend||[]).push([[0],{194:function(e,t,n){e.exports=n(329)},199:function(e,t,n){},323:function(e,t,n){},329:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(22),c=n.n(o),l=(n(199),n(36)),i=n(17),s=n(54),u=n(85),m=n(29),p=n(24),d="https://sheltered-crag-77668.herokuapp.com",h=d+"/users",f=function(e){return h+"/"+e},E=function(e){return{type:"SET_USER",payload:e}},g=function(e){return function(t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch(h,n).then((function(e){return e.json()})).then((function(e){e.user?(console.log(e),t(E(e.user)),localStorage.setItem("token",e.token)):alert(e.errors)}))}},v=function(e){return function(t){fetch(f(e),{method:"DELETE"}).then((function(e){t({type:"CLEAR_USER"}),localStorage.clear()}))}},b=function(e){return function(t){var n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("https://sheltered-crag-77668.herokuapp.com/login",n).then((function(e){return e.json()})).then((function(e){console.log(e),e.user?(t(E(e.user)),localStorage.setItem("token",e.token)):alert("User and/or password is incorrect.")}))}},y=function(){return function(e){e({type:"CLEAR_USER"}),localStorage.clear()}},w=function(e,t){return function(n){var a={method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({locations_id:t})};fetch(f(e),a).then((function(e){return e.json()})).then((function(e){n(E(e))}))}},O=function(e){var t=Object(p.b)(),n=Object(a.useState)({username:"",password:""}),o=Object(m.a)(n,2),c=o[0],l=o[1],i=function(e){return l(Object(u.a)({},c,Object(s.a)({},e.target.name,e.target.value)))},d=c.username,h=c.password;return r.a.createElement("form",{onSubmit:function(n){n.preventDefault();var a=e.history;t(g(c)),a.push("/")}},r.a.createElement("h1",null,"Signup Page"),r.a.createElement("input",{type:"text",name:"username",value:d,onChange:i,placeholder:"Username"}),r.a.createElement("input",{type:"password",name:"password",value:h,onChange:i,placeholder:"Password"}),r.a.createElement("input",{type:"submit"}))},j=function(e){var t=Object(p.b)(),n=Object(a.useState)({username:"",password:""}),o=Object(m.a)(n,2),c=o[0],l=o[1],i=function(e){return l(Object(u.a)({},c,Object(s.a)({},e.target.name,e.target.value)))},d=c.username,h=c.password;return r.a.createElement("form",{onSubmit:function(n){n.preventDefault(),t(b(c)),e.history.push("/")}},r.a.createElement("h1",null,"Login Page"),r.a.createElement("input",{type:"text",name:"username",value:d,onChange:i,placeholder:"Username"}),r.a.createElement("input",{type:"password",name:"password",value:h,onChange:i,placeholder:"Password"}),r.a.createElement("input",{type:"submit"}))},k=n(341),S=n(344),C=n(181),T=n(340),x=n(347),_=Object(k.a)().scale(160).translate([400,225]),F=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)([]),l=Object(m.a)(c,2),i=l[0],s=l[1],u=Object(p.c)((function(e){return e.user}));Object(a.useEffect)((function(){fetch("https://sheltered-crag-77668.herokuapp.com/locations").then((function(e){200===e.status?e.json().then((function(e){s(e)})):console.log("There was a problem: ".concat(e.status))}))}),[]),Object(a.useEffect)((function(){fetch("/world-110m.json").then((function(e){200===e.status?e.json().then((function(e){o(Object(C.a)(e,e.objects.countries).features)})):console.log("There was a problem: ".concat(e.status))}))}),[]);var d=0,h=0,f=0;return i.map((function(e){e.active,d+=e.confirmed,h+=e.deaths,f+=e.recovered})),r.a.createElement("div",{style:{backgroundColor:"white"}},r.a.createElement("h2",null,"Global Stats"),r.a.createElement("h3",null,"Infected: ",d,". Dead: ",h,". Recovered:"," ",f,"."),r.a.createElement("svg",{width:900,height:475,viewBox:"0 0 900 475"},r.a.createElement("g",{className:"cities"},n.map((function(e,t){return r.a.createElement("path",{key:"path-".concat(t),d:Object(S.a)().projection(_)(e),className:"province",fill:"rgba(38,50,56,".concat(1/n.length*t,")"),stroke:"#FFFFFF",strokeWidth:.5,onClick:function(){return e=t,void console.log("Clicked on city: ",n[e]);var e}})}))),r.a.createElement("g",{className:"markers"},i.map((function(e,t){var n=[e.lon,e.lat];return u.locations_id&&5e5!==u.locations_id&&parseInt(u.locations_id)===parseInt(e.id)?r.a.createElement(T.a,{trigger:"hover",placement:"top",overlay:r.a.createElement(x.a,{id:"popover-basic"},r.a.createElement(x.a.Title,{as:"h3"},i[t].country),r.a.createElement(x.a.Content,null,"Confirmed: ",i[t].confirmed,". Active:"," ",i[t].active," Dead:"," ",i[t].deaths,". Recovered:"," ",i[t].recovered,"."))},r.a.createElement("circle",{key:"marker-".concat(t),cx:_(n)[0],cy:_(n)[1],r:e.active>1e3?14:.01*e.active,fill:"#E91E63","fill-opacity":"0.7",stroke:"#FFFFFF",className:"marker"})):5e5!==parseInt(u.locations_id)&&500!==u.status&&u.locations_id?void 0:r.a.createElement(T.a,{trigger:"hover",placement:"top",overlay:r.a.createElement(x.a,{id:"popover-basic"},r.a.createElement(x.a.Title,{as:"h3"},i[t].country),r.a.createElement(x.a.Content,null,"Confirmed: ",i[t].confirmed,". Active:"," ",i[t].active," Dead:"," ",i[t].deaths,". Recovered:"," ",i[t].recovered,"."))},r.a.createElement("circle",{key:"marker-".concat(t),cx:_(n)[0],cy:_(n)[1],r:e.active>1e3?14:.01*e.active,fill:"#E91E63","fill-opacity":"0.7",stroke:"#FFFFFF",className:"marker"}))})))),r.a.createElement("h1",null,"News on the virus below"))},I=n(345),D=n(348),N=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],o=t[1];Object(a.useEffect)((function(){fetch("https://sheltered-crag-77668.herokuapp.com/stories").then((function(e){200===e.status?e.json().then((function(e){console.log(e),o(e)})):console.log("There was a problem: ".concat(e.status))}))}),[]);return r.a.createElement("div",{style:{height:"800px",textAlign:"center",overflow:"scroll",display:"flex",flexDirection:"column",marginRight:"55vw",marginLeft:"1vw",marginBottom:"10em"}},n.map((function(e){return r.a.createElement(I.a,null,r.a.createElement(I.a.Img,{variant:"top",alt:e.title,src:e.urlToImage}),r.a.createElement(I.a.Body,null,r.a.createElement(I.a.Title,null,e.title),r.a.createElement(I.a.Subtitle,null,e.publishedAt,"."),r.a.createElement(I.a.Text,null,e.description),r.a.createElement(D.a,{variant:"primary",target:"_blank",href:e.url},"Go to story")))})))},R=function(){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:"-113em",marginRight:"0.5vw",marginLeft:"60em",height:"100%"},id:"VirusInfo"},r.a.createElement("h1",null,"Information about COVID-19 from WHO"),r.a.createElement("ul",{style:{fontSize:"18px"}},r.a.createElement("li",null,"Coronavirus disease (COVID-19) is an infectious disease caused by a newly discovered coronavirus."),r.a.createElement("li",null,"Most people infected with the COVID-19 virus will experience mild to moderate respiratory illness and recover without requiring special treatment. Older people, and those with underlying medical problems like cardiovascular disease, diabetes, chronic respiratory disease, and cancer are more likely to develop serious illness."),r.a.createElement("li",null,"The best way to prevent and slow down transmission is be well informed about the COVID-19 virus, the disease it causes and how it spreads. Protect yourself and others from infection by washing your hands or using an alcohol based rub frequently and not touching your face."),r.a.createElement("li",null,"The COVID-19 virus spreads primarily through droplets of saliva or discharge from the nose when an infected person coughs or sneezes, so it\u2019s important that you also practice respiratory etiquette (for example, by coughing into a flexed elbow).")),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("h3",null,"This video below goes into more detail. Please consider watching it.")),r.a.createElement("iframe",{title:"corona-vid",width:"560",height:"315",src:"https://www.youtube.com/embed/BtN-goy9VOY",frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}))},L=function(){var e=Object(p.c)((function(e){return e.user.username})),t=e?r.a.createElement("h1",null,"Welcome, ",e):r.a.createElement("h1",null,"Nobody is logged in");return r.a.createElement("div",null,t,r.a.createElement(F,null),r.a.createElement(N,null),r.a.createElement(R,null))},P=n(343),A=(n(206),{Signup:O,Login:j,Home:L,Profile:function(e){var t=Object(p.b)(),n=Object(a.useState)([]),o=Object(m.a)(n,2),c=o[0],l=o[1];Object(a.useEffect)((function(){try{fetch("https://sheltered-crag-77668.herokuapp.com/locations").then((function(e){200===e.status?e.json().then((function(e){console.log(e),l(e.map((function(e){return{key:e.id,value:e.id,text:"".concat(e.country)}})))})):console.log("There was a problem: ".concat(e.status))}))}catch(e){console.log(e)}}),[]);var i=Object(p.c)((function(e){return e.user.locations_id})),s=Object(p.c)((function(e){return e.user.id})),u=i?r.a.createElement("h3",null,"Your set location is ",i,"."):r.a.createElement("h3",null,"You don't have a set location.");return r.a.createElement("div",null,"Select your location below",r.a.createElement(P.a,{placeholder:"Location",fluid:!0,search:!0,selection:!0,options:c,onChange:function(e,n){var a=n.value;console.log(a),t(w(s,a))}}),u,r.a.createElement("button",{onClick:function(n){n.preventDefault(),t(v(s)),e.history.push("/")}},"Delete your profile"))}}),U=function(){return r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/signup",component:A.Signup}),r.a.createElement(i.a,{path:"/login",component:A.Login}),r.a.createElement(i.a,{path:"/profile",component:A.Profile}),r.a.createElement(i.a,{exact:!0,path:"/",component:A.Home}))},V=(n(323),n(346)),B=function(){var e=Object(p.c)((function(e){return e.user.username})),t=Object(p.b)();return r.a.createElement("nav",{style:{backgroundColor:"#4A586E",display:"flex",justifyContent:"space-evenly"}},r.a.createElement(l.b,{to:"/"},r.a.createElement(V.a,null,"Home")),e?r.a.createElement(l.b,{to:"/profile"},r.a.createElement(V.a,null,"Profile")):r.a.createElement(l.b,{to:"/signup"},r.a.createElement(V.a,null,"Signup")),e?r.a.createElement(l.b,{to:"/",onClick:function(){t(y())}},r.a.createElement(V.a,null,"Logout")):r.a.createElement(l.b,{to:"/login"},r.a.createElement(V.a,null,"Login")))};n(328);var H=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(l.a,null,r.a.createElement(B,null),r.a.createElement(U,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(38),W=n(180),q={user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case"SET_USER":return a;case"CLEAR_USER":return{};default:return e}}},Y=Object(J.c)(q),z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||J.d,G=Object(J.e)(Y,z(Object(J.a)(W.a)));c.a.render(r.a.createElement(p.a,{store:G},r.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[194,1,2]]]);
//# sourceMappingURL=main.40144311.chunk.js.map